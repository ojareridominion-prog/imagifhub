<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
<title>IMAGIFHUB</title>

<!-- Telegram SDK -->
<script src="https://unpkg.com/@telegram-apps/sdk@7.2.0/dist/core.min.js"></script>

<!-- Swiper -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

<style>
:root {
  --bg:#000; --text:#fff; --bar:#1a1a1a; --accent:#9c4dff;
  --cat-bg:#333; --cat-text:#fff; --cat-active-bg:#fff; --cat-active-text:#000;
}

body,html {
  margin:0; height:100%; background:var(--bg); color:var(--text);
  font-family:system-ui; overflow:hidden;
}

/* TOP BAR */
.top-bar {
  position:fixed; top:0; left:0; right:0;
  height:56px; background:var(--bar);
  display:flex; align-items:center; padding:0 12px;
  z-index:3000;
}
.hamburger { font-size:26px; cursor:pointer; }
.search-container { flex:1; margin:0 12px; }
.search-input {
  width:100%; padding:8px 14px; border:none; border-radius:20px;
  background:#333; color:#fff;
}
.music-btn {
  width:36px; height:36px; border-radius:50%;
  background:var(--accent); color:#fff;
  display:flex; align-items:center; justify-content:center;
  cursor:pointer;
}

/* CATEGORY BAR */
.cat-bar {
  position:fixed; top:56px; left:0; right:0;
  height:48px; background:var(--bar);
  display:flex; gap:10px; align-items:center;
  padding:0 12px; overflow-x:auto;
  z-index:2500;
}
.cat-bar::-webkit-scrollbar{display:none;}
.cat-btn {
  padding:6px 14px; border-radius:20px;
  background:var(--cat-bg); color:var(--cat-text);
  white-space:nowrap; cursor:pointer;
}
.cat-btn.active {
  background:var(--cat-active-bg);
  color:var(--cat-active-text);
  font-weight:bold;
}

/* SWIPER */
.swiper {
  position:absolute;
  top:104px;
  left:0; right:0; bottom:0;
  z-index:1;
}
.swiper-slide {
  display:flex; align-items:center; justify-content:center;
}
img { max-width:100%; max-height:100%; }

/* RIGHT ACTIONS */
.right-actions {
  position:fixed; right:14px; bottom:90px;
  display:flex; flex-direction:column; gap:18px;
  z-index:3000;
}
.action-icon { font-size:26px; cursor:pointer; text-align:center; }
.action-count { font-size:11px; }

/* MENU */
.menu-panel {
  position:fixed; top:0; left:-100%;
  width:80%; height:100%;
  background:#111; padding-top:56px;
  transition:0.3s; z-index:5000;
}
.menu-panel.open { left:0; }
.menu-item {
  padding:16px; border-bottom:1px solid #333; cursor:pointer;
}
.menu-close {
  position:absolute; top:12px; left:12px;
  font-size:24px; cursor:pointer;
}

/* KEYWORD */
.keyword-title {
  position:fixed; bottom:20px; left:14px;
  background:rgba(0,0,0,.6);
  padding:6px 12px; border-radius:12px;
  z-index:3000;
}
</style>
</head>

<body>
<div id="app">

  <div class="top-bar">
    <div class="hamburger" onclick="toggleMenu()">‚ò∞</div>
    <div class="search-container">
      <input class="search-input" placeholder="Search keywords..."
        onchange="searchTerm=this.value;loadFeed()">
    </div>
    <div class="music-btn" id="musicBtn" onclick="toggleMusic()">‚ô™</div>
  </div>

  <div class="cat-bar" id="catBar"></div>

  <div class="swiper" id="swiper">
    <div class="swiper-wrapper" id="feed"></div>
  </div>

  <div class="right-actions">
    <div class="action-icon">‚ù§Ô∏è<div class="action-count" id="likeCount">0</div></div>
    <div class="action-icon">üí¨</div>
    <div class="action-icon">‚Üì</div>
    <div class="action-icon">‚≠ê</div>
    <div class="action-icon">üìå</div>
  </div>

  <div class="keyword-title" id="keywordTitle">IMAGIFHUB</div>

  <div class="menu-panel" id="menuPanel">
    <div class="menu-close" onclick="toggleMenu()">‚úï</div>
    <div class="menu-item">Check In</div>
    <div class="menu-item">Channel</div>
    <div class="menu-item">Share Bot</div>
    <div class="menu-item">Go Premium</div>
  </div>

</div>

<audio id="bgMusic"></audio>

<script>
/* TELEGRAM INIT */
Telegram.WebApp.ready();
Telegram.WebApp.expand();

/* DATA */
const categories = ["All","Nature","Anime","Cars","Gaming","Luxury"];
const categoryMusic = {
  Nature:["https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3"],
  Anime:["https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3"],
  Cars:["https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3"],
  Default:["https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3"]
};

let currentCat="All";
let musicPlaying=false;
const audio=document.getElementById("bgMusic");

/* BUILD CATEGORY BAR */
function buildCategoryBar(){
  const bar=document.getElementById("catBar");
  bar.innerHTML="";
  categories.forEach(c=>{
    const b=document.createElement("div");
    b.className="cat-btn"+(c===currentCat?" active":"");
    b.textContent=c;
    b.onclick=()=>{currentCat=c;buildCategoryBar();loadFeed();};
    bar.appendChild(b);
  });
}

/* FEED */
function loadFeed(){
  const feed=document.getElementById("feed");
  feed.innerHTML="";
  for(let i=0;i<5;i++){
    const s=document.createElement("div");
    s.className="swiper-slide";
    const img=document.createElement("img");
    img.src="https://picsum.photos/600/900?random="+Math.random();
    s.appendChild(img);
    feed.appendChild(s);
  }
  if(document.getElementById("swiper").swiper){
    document.getElementById("swiper").swiper.destroy(true,true);
  }
  new Swiper("#swiper",{direction:"vertical",mousewheel:true});
}

/* MENU */
function toggleMenu(){
  document.getElementById("menuPanel").classList.toggle("open");
}

/* MUSIC */
function playMusic(){
  const key=currentCat in categoryMusic?currentCat:"Default";
  const list=categoryMusic[key];
  audio.src=list[Math.floor(Math.random()*list.length)];
  audio.volume=0.5;
  audio.play().then(()=>{
    musicPlaying=true;
    document.getElementById("musicBtn").textContent="‚ùö‚ùö";
  });
}
function toggleMusic(){
  if(musicPlaying){audio.pause();musicPlaying=false;musicBtn.textContent="‚ô™";}
  else playMusic();
}

/* TELEGRAM AUDIO TRIGGER */
Telegram.WebApp.onEvent("viewportChanged",()=>{
  if(!musicPlaying) playMusic();
});

/* INIT */
buildCategoryBar();
loadFeed();
</script>
</body>
</html>
